<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- custom css file link  -->
    <link rel="stylesheet" href="css/style.css">

</head>
<body>

<div class="container">

    <form action="process_payment.php" method="post">


        <div class="row">

            <div class="col">

                <h3 class="title">fuck address</h3>
                <h4><em>billing address has already been filled!</em></h4>
                <div class="inputBox">
                    <span>full name :</span>
                    <input type="text" value="Maria Schultz" readonly>
                </div>
                <div class="inputBox">
                    <span>email :</span>
                    <input type="email" value="example@example.com" readonly>
                </div>
                <div class="inputBox">
                    <span>address :</span>
                    <input type="text" value="room - street - locality" readonly>
                </div>
                <div class="inputBox">
                    <span>city :</span>
                    <input type="text" value="mumbai" readonly>
                </div>

                <div class="flex">
                    <div class="inputBox">
                        <span>state :</span>
                        <input type="text" value="india" readonly>
                    </div>
                    <div class="inputBox">
                        <span>zip code :</span>
                        <b>
                        <input type="text" value="123 456" readonly>
                        </b>
                    </div>
                </div>

            </div>

            <div class="vertical-line"></div>
            
            <div class="col">

                <h3 class="title">payment</h3>
                <h4><em>fill in the blanks</em></h4>

                <div class="inputBox">
                    <span>cards accepted :</span>
                    <img src="images/card_img.png" alt="">
                </div>
                <div class="inputBox">
                  <span>name on card :</span>
                  <input type="text" name="card_holder" placeholder="John Doe" pattern="[A-Za-z\s]+" required>
                </div>
                <div class="inputBox">
                    <span>credit card number :</span>
                    <input type="text" id="card_number" placeholder="1111 2222 3333 4444" maxlength="19" oninput="formatCardNumber()" onkeypress="return isNumberKey(event)" required />

<script>
  function formatCardNumber() {
    let cardNumberInput = document.getElementById('card_number');
    let inputValue = cardNumberInput.value.replace(/\D/g, ''); // Remove non-numeric characters
    let formattedValue = inputValue.replace(/(\d{4})/g, '$1 '); // Add space after every 4 digits

    formattedValue = formattedValue.trim().substring(0, 19); // Trim and limit to 20 characters

    cardNumberInput.value = formattedValue; // Update the input value
  }

  function isNumberKey(event) {
    const charCode = event.which ? event.which : event.keyCode;
    return !(charCode > 31 && (charCode < 48 || charCode > 57));
  }
</script>
                </div>
                <div class="inputBox">
                    <span>exp month/year :</span>
                    <input type="text" name="expiry_date" id="expiryDate" name="expiryDate" placeholder="01/26" maxlength="5"  oninput="validateExp(this)" required>
                    <script>
                        
                        function validateExp(input) {
      if (input.value.length > 5) {
        input.value = input.value.slice(0, 5);
      }
    }
                    
                        document.getElementById('expiryDate').addEventListener('input', function (event) {
                          formatMMYY(event);
                        });
                    
                        document.getElementById('expiryDate').addEventListener('keydown', function (event) {
                          handleBackspace(event);
                        });
                    
                        function formatMMYY(event) {
                          let input = event.target;
                          let value = input.value.replace(/\D/g, ''); // Remove non-numeric characters
                    
                          if (value.length > 4) {
                            value = value.substr(0, 4);
                          }
                    
                          if (value.length >= 2) {
                            let formattedValue = value.substr(0, 2) + '/' + value.substr(2);
                            input.value = formattedValue;
                          } else {
                            input.value = value;
                          }
                        }
                    
                        function handleBackspace(event) {
                          if (event.key === 'Backspace') {
                            let input = event.target;
                            let value = input.value.replace(/\D/g, '');
                    
                            if (value.length === 3 && input.selectionStart === 3) {
                              // Handle backspace when cursor is at the position of the slash
                              event.preventDefault();
                              input.value = value.substr(0, 1) + '/' + value.substr(1);
                            }
                          }
                        }
                      </script>
                </div>

                <div class="flex">
                    <div class="inputBox">
                        <span>CVV :</span>
                        <input type="number" name="cvv" placeholder="123" maxlength="3" oninput="validatecc(this)"  required>
                        <script>
                            function validatecc(input) {
                              if (input.value.length > 3) {
                                input.value = input.value.slice(0, 3);
                              }
                            }
                          </script>
                    </div>
                </div>

            </div>
    
        </div>

        <input type="submit" value="pay($2)" class="submit-btn">

    </form>

</div>    
    
</body>
</html>
